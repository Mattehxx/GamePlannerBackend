# Docker
# Build and push an image to Azure Container Registry
# https://docs.microsoft.com/azure/devops/pipelines/languages/docker
 
trigger:
- master
 
pool:
  vmImage: ubuntu-latest
 
steps:
- script: echo Hello World!
  displayName: 'Run a one line scirpt'
- task: Docker@2
  inputs:
    containerRegistry: 'GamePlannerContainerRegistry'
    repository: 'GamePlannerBackend'
    command: 'buildAndPush'
    Dockerfile: '$(Build.SourceDirectory)/GamePlanner/Dokerfile'
    buildContext: '$(System.DefaultWorkingDirectory)'
    tags: |
      $(Build.BuildId)
      latest

- script: |
    echo Add other task to build, test, and deploy your project.
  displayName: 'Run a multi line script'